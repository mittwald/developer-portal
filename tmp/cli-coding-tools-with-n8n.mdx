---
sidebar_label: CLI-Coding-Tools
title: CLI-Coding-Tools mit AI-Hosting
description: Nutze mittwalds KI-Modelle mit beliebten CLI-Coding-Tools
---

Diese Anleitung zeigt, wie du unseren OpenAI-kompatiblen Endpunkt mit CLI-Tools nutzen kannst, die agentisches Coding unterstützen.

Basis-Konfiguration

- Base URL: `https://llm.aihosting.mittwald.de/v1`
- API Key: dein mStudio-LLM-Schlüssel
- Modell-IDs:
  - `Devstral-Small-2-24B-Instruct-2512` (agentisches Coding + Tools + Vision)
  - `Ministral-3-14B-Instruct-2512` (Chat + Vision)

Umgebung

```sh
export OPENAI_API_KEY=sk-...
export OPENAI_BASE_URL=https://llm.aihosting.mittwald.de/v1
```

## Claude Code (CLI)

Konfiguriere Claude Code in `~/.config/claude-code/settings.json`:

```json
{
  "apiProvider": "openai-compatible",
  "baseURL": "https://llm.aihosting.mittwald.de/v1",
  "apiKey": "sk-dein-mittwald-api-key",
  "model": "Devstral-Small-2-24B-Instruct-2512",
  "temperature": 0.15
}
```

**Mit MCP-Servern:**

```json
{
  "apiProvider": "openai-compatible",
  "baseURL": "https://llm.aihosting.mittwald.de/v1",
  "apiKey": "sk-dein-mittwald-api-key",
  "model": "Devstral-Small-2-24B-Instruct-2512",
  "mcpServers": {
    "context7": {
      "command": "npx",
      "args": ["-y", "@context7/mcp-server", "--stdio"],
      "env": { "CONTEXT7_API_KEY": "dein-schlüssel" }
    },
    "brave-search": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-brave-search", "--stdio"],
      "env": { "BRAVE_API_KEY": "dein-schlüssel" }
    },
    "n8n": {
      "command": "npx",
      "args": ["-y", "@n8n/mcp-server", "--stdio"],
      "env": {
        "N8N_API_URL": "http://localhost:5678",
        "N8N_API_KEY": "dein-n8n-api-key"
      }
    },
    "directus": {
      "command": "npx",
      "args": ["-y", "@directus/content-mcp", "--stdio"],
      "env": {
        "DIRECTUS_URL": "https://deine-directus-instanz.com",
        "DIRECTUS_TOKEN": "dein-directus-token"
      }
    },
    "opensearch": {
      "command": "npx",
      "args": ["-y", "@opensearch-project/mcp-server", "--stdio"],
      "env": {
        "OPENSEARCH_URL": "https://localhost:9200",
        "OPENSEARCH_USERNAME": "admin",
        "OPENSEARCH_PASSWORD": "admin"
      }
    },
    "solr": {
      "command": "uvx",
      "args": ["solr-mcp"],
      "env": {
        "SOLR_URL": "http://localhost:8983/solr"
      }
    }
  },
  "webFetch": {
    "enabled": true,
    "allowedDomains": ["github.com", "stackoverflow.com", "*.readthedocs.io"],
    "maxDepth": 2
  }
}
```

**Verwendung:**

```sh
# Mit Konfigurationsdatei ausführen
claude-code "refactoriere das Authentifizierungsmodul für JWT"

# Mit Umgebungsvariablen ausführen
CLAUDE_CODE_BASE_URL=https://llm.aihosting.mittwald.de/v1 \
CLAUDE_CODE_API_KEY=sk-... \
CLAUDE_CODE_MODEL=Devstral-Small-2-24B-Instruct-2512 \
claude-code "füge Error-Handling zu API-Endpunkten hinzu"

# Externe Docs abrufen und anwenden
claude-code "rufe https://fastapi.tiangolo.com/tutorial/ ab und aktualisiere unsere API für async-Endpunkte"
```

## OpenCode (CLI)

OpenCode unterstützt OpenAI-kompatible Anbieter. Konfiguration über Umgebung oder Config-Datei:

**Umgebungsvariablen:**

```sh
export OPENAI_API_KEY=sk-...
export OPENAI_BASE_URL=https://llm.aihosting.mittwald.de/v1
export OPENAI_MODEL=Devstral-Small-2-24B-Instruct-2512
```

**Konfigurationsdatei** (`~/.opencode/config.json`):

```json
{
  "provider": "openai-compatible",
  "baseURL": "https://llm.aihosting.mittwald.de/v1",
  "apiKey": "sk-dein-mittwald-api-key",
  "model": "Devstral-Small-2-24B-Instruct-2512",
  "temperature": 0.15,
  "tools": {
    "enabled": true,
    "allowedTools": ["file_read", "file_write", "search", "web_fetch"]
  }
}
```

**Mit MCP-Servern:**

```json
{
  "provider": "openai-compatible",
  "baseURL": "https://llm.aihosting.mittwald.de/v1",
  "apiKey": "sk-dein-mittwald-api-key",
  "model": "Devstral-Small-2-24B-Instruct-2512",
  "mcpServers": {
    "context7": {
      "command": "npx",
      "args": ["-y", "@context7/mcp-server", "--stdio"],
      "env": { "CONTEXT7_API_KEY": "dein-schlüssel" }
    },
    "postgres": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres", "--stdio"],
      "env": { "POSTGRES_CONNECTION_STRING": "postgresql://..." }
    },
    "n8n": {
      "command": "npx",
      "args": ["-y", "@n8n/mcp-server", "--stdio"],
      "env": {
        "N8N_API_URL": "http://localhost:5678",
        "N8N_API_KEY": "dein-n8n-api-key"
      }
    },
    "directus": {
      "command": "npx",
      "args": ["-y", "@directus/content-mcp", "--stdio"],
      "env": {
        "DIRECTUS_URL": "https://deine-directus-instanz.com",
        "DIRECTUS_TOKEN": "dein-directus-token"
      }
    },
    "opensearch": {
      "command": "npx",
      "args": ["-y", "@opensearch-project/mcp-server", "--stdio"],
      "env": {
        "OPENSEARCH_URL": "https://localhost:9200",
        "OPENSEARCH_USERNAME": "admin",
        "OPENSEARCH_PASSWORD": "admin"
      }
    },
    "solr": {
      "command": "uvx",
      "args": ["solr-mcp"],
      "env": {
        "SOLR_URL": "http://localhost:8983/solr"
      }
    }
  }
}
```

**Verwendung:**

```sh
opencode "migriere Datenbankschema für User-Rollen-Tabelle"
opencode "optimiere die Datenbankabfragen in user_service.py"
```

Tipps

- Deterministische Edits: `temperature <= 0.2` für Tooling und Refactoring.
- Streaming-Output für lange Diffs/Logs.
- Repo-Scope begrenzen; spezifische Dateien/Funktionen anfordern für effizienten Kontext.
- JSON/Tool-Outputs bevorzugen beim Orchestrieren von Multi-Step-Änderungen.

Verwandte Themen

- IDE-Setups: siehe KI-unterstützte Entwicklung und Kilo Code-Abschnitte.
- MCP-Übersicht: https://modelcontextprotocol.io/
